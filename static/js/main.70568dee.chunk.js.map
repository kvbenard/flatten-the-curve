{"version":3,"sources":["../node_modules/moment/src/lib/locale sync","../node_modules/moment sync","components/LineChart.js","components/Map.js","components/RangeInput.js","components/Indicator.js","components/FilteredElement.js","containers/FilteredElements.js","data/department_data.js","containers/Dashboard.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LineChart","props","updateData","data","groupDatasetByDate","measure","map","d","label","date","value","myChart","labels","datasets","fill","name","borderColor","color","annotation","length","push","options","annotations","update","groupedDataset","filter","departments","includes","department","forEach","elem","Object","parseInt","values","switchData","isAlternative","alternativeData","chartRef","React","createRef","this","Chart","current","type","responsive","drawTime","mode","scaleID","borderWidth","button","onClick","ref","Component","Map","constructDataset","reanimations","reanimation_capacity","state","currentData","chart","am4core","am4maps","geodata","projection","Miller","enabled","polygonSeries","series","useGeodata","polygonTemplate","mapPolygons","template","tooltipText","states","create","properties","heatRules","property","target","min","max","colors","maxValue","events","on","ev","isActive","dataItem","dataContext","onDepartmentClick","i","newObj","invalidateRawData","style","height","width","PureComponent","RangeInput","onChange","Indicator","getValue","reduce","acc","v","backgroundColor","className","FilteredElement","onElementClicked","element","icon","faTimes","FilteredElements","elements","key","onElementDeleted","department_data","Dashboard","text","dataset","csvJSON","sexe","depData","dep","jour","hosp","dc","rad","rea","population","previousDay","moment","subtract","format","previousDayObj","newDeaths","deaths","newReturnHome","returnHome","csv","lines","replace","split","result","headers","obj","currentline","j","onChangeHandler","event","numberOfDaysToAdd","datesSize","newDate","maxDate","setState","currentDate","onDepartmentClicked","departmentsCopy","slice","index","indexOf","splice","fetch","then","response","dates","sort","a","b","Date","trigger","modal","close","href","faEnvelope","faLinkedin","faGithub","faTwitter","onIndicatorClicked","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,q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","file":"static/js/main.70568dee.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 173;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 190;","import React, { Component } from 'react';\nimport Chart from 'chart.js';\nimport 'chartjs-plugin-annotation';\n\n/**\n * Uses the Chart.js library to show a line chart\n */\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n\n        this.chartRef = React.createRef();\n\n        this.isAlternative = false;\n    }\n\n    updateData = () => {\n        let data = this.groupDatasetByDate(this.props.measure).map(d => {\n            return {\n                label: d.date,\n                value: d[this.props.measure]\n            }\n        });\n\n        this.myChart.data.labels = data.map(e => e.label);\n        this.myChart.data.datasets[0].data = data.map(e => e.value);\n        this.myChart.data.datasets[0].fill = false;\n        this.myChart.data.datasets[0].label = this.props.name;\n        this.myChart.data.datasets[0].borderColor = this.props.color;\n\n        if (this.props.annotation) {\n            let annotation = this.groupDatasetByDate(this.props.annotation);\n            if (this.myChart.data.datasets.length > 1) {\n                this.myChart.data.datasets[1].data = annotation.map(e => e[this.props.annotation]);\n                this.myChart.data.datasets[1].fill = false;\n                this.myChart.data.datasets[1].label = \"Capacité\";\n                this.myChart.data.datasets[1].borderColor = \"#aaaaaa\";\n            } else {\n                this.myChart.data.datasets.push({\n                    fill: false,\n                    data: annotation.map(e => e[this.props.annotation]),\n                    label: \"Capacité\",\n                    borderColor: \"#aaaaaa\",\n                });\n            }\n\n        }\n\n        this.myChart.options.annotation.annotations[0].value = this.props.date;\n\n        this.myChart.update();\n    }\n\n    groupDatasetByDate = (measure) => {\n        let groupedDataset = {};\n        this.props.data\n            .filter(e => this.props.departments.length > 0 ? this.props.departments.includes(e.department) : true)\n            .forEach(elem => {\n                let date = elem.date;\n                if (Object.keys(groupedDataset).includes(date)) {\n                    groupedDataset[date][measure] = parseInt(elem[measure]) + parseInt(groupedDataset[date][measure]);\n                } else {\n                    groupedDataset[date] = {\n                        date: date\n                    }\n                    groupedDataset[date][measure] = parseInt(elem[measure])\n                }\n            });\n\n        return Object.values(groupedDataset);\n    }\n\n    componentDidMount() {\n        this.myChart = new Chart(this.chartRef.current, {\n            type: 'line',\n            data: {\n                labels: [],\n                datasets: [{\n                }]\n            },\n            options: {\n                responsive: true,\n                annotation: {\n                    annotations: [\n                        {\n                            drawTime: \"afterDatasetsDraw\",\n                            type: \"line\",\n                            mode: \"vertical\",\n                            scaleID: \"x-axis-0\",\n                            value: \"2020-04-20\",\n                            borderColor: \"black\",\n                            borderWidth: 1\n                        }\n                    ]\n                }\n            }\n        });\n        this.updateData(this.props.data);\n    }\n\n    componentDidUpdate() {\n        this.updateData(this.props.data);\n    }\n\n    switchData = () => {\n        this.isAlternative ? this.updateData(this.props.data) : this.updateData(this.props.alternativeData);\n        this.isAlternative = !this.isAlternative;\n    }\n\n    render() {\n        let button;\n        if (this.props.alternativeData) {\n            button = <button onClick={this.switchData}>Switch</button>\n        }\n\n        return (\n            <div>\n                <canvas ref={this.chartRef}></canvas>\n                {button}\n            </div>\n\n        )\n    }\n}\n\nexport default LineChart;","import React, { PureComponent } from 'react';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\nimport map from \"@amcharts/amcharts4-geodata/franceDepartmentsLow\";\n\n/**\n * Construct a map from the AMCharts library\n */\nclass Map extends PureComponent {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            currentData: this.constructDataset(this.props.data, this.props.date)\n        }\n    }\n\n    /**\n     * Construct dataset specific to this component\n     */\n    constructDataset = (data, date) => {\n        return data.filter(e => ((e.department < 900 || e.department === \"2A\" || e.department === \"2B\") && e.date === date)).map(e => {\n            return {\n                id: \"FR-\" + e.department,\n                value: e.reanimations / e.reanimation_capacity,\n                department: e.department\n            }\n        });\n    }\n\n    /**\n     * When the component did mount, create the map object and bind the constructed dataset\n     */\n    componentDidMount() {\n        this.chart = am4core.create(\"french-map\", am4maps.MapChart);\n        this.chart.geodata = map;\n        this.chart.projection = new am4maps.projections.Miller();\n        this.chart.responsive.enabled = true;\n\n        // Create map polygon series\n        var polygonSeries = this.chart.series.push(new am4maps.MapPolygonSeries());\n\n        // Make map load polygon (like country names) data from GeoJSON\n        polygonSeries.useGeodata = true;\n\n        var polygonTemplate = polygonSeries.mapPolygons.template;\n        polygonTemplate.tooltipText = \"{name}\";\n\n        // Create hover state and set alternative fill color\n        let hs = polygonTemplate.states.create(\"hover\");\n        hs.properties.fill = am4core.color(\"#011627\");\n\n        this.chart.series.values[0].data = this.state.currentData;\n\n        polygonSeries.heatRules.push({\n            property: \"fill\",\n            target: polygonSeries.mapPolygons.template,\n            min: am4core.color(\"#eeeeee\"),\n            max: am4core.color(this.props.colors[this.props.measure]),\n            maxValue: 2\n        });\n\n        polygonTemplate.events.on(\"hit\", (ev) => {\n            ev.target.isActive = !ev.target.isActive;\n            let department = ev.target.dataItem.dataContext.department;\n\n            this.props.onDepartmentClick(department);\n        });\n    }\n\n    /**\n     * When the component did update, update the map's data\n     */\n    componentDidUpdate() {\n\n        let data = this.constructDataset(this.props.data, this.props.date);\n\n        if (this.chart && this.chart.series.values[0].data.length > 0) {\n            this.chart.series.values[0].data.forEach((e, i) => {\n                let newObj = data.filter(d => (d.id === e.id))[0];\n                this.chart.series.values[0].data[i].value = newObj ? newObj.value : 0;\n            });\n        }\n\n        this.chart.invalidateRawData();\n    }\n\n    render() {\n        return (\n            <div style={{ height: \"500px\", width: \"500px\" }} id=\"french-map\"></div>\n        )\n    }\n}\n\nexport default Map;","import React, { PureComponent } from 'react';\nimport './RangeInput.css';\n\n/**\n * Range Input to control time\n */\nclass RangeInput extends PureComponent {\n\n    constructor(props) {\n        super(props);\n        this.ref = React.createRef();\n    }\n\n    componentDidMount() {\n        this.ref.current.value = this.props.max;\n    }\n\n    render() {\n        return (\n            <input ref={this.ref} type=\"range\" id=\"date\" name=\"date\" min=\"1\" max={this.props.max} onChange={this.props.onChange} />\n        )\n    }\n}\n\nexport default RangeInput;","import React, { PureComponent } from 'react';\nimport './Indicator.css';\n\n/**\n * Simple indicator\n * Shows teh measure's name and its value\n */\nclass Indicator extends PureComponent {\n\n    /**\n     * Get the requested value from the dataset\n     */\n    getValue = () => {\n        return this.props.data\n            .filter(e => this.props.departments.length > 0 ? (this.props.departments.includes(e.department) && this.props.date === e.date) : this.props.date === e.date)\n            .reduce((acc, v) => parseInt(v[this.props.measure]) + acc, 0);\n    }\n\n    render() {\n        return (\n            <div style={{ backgroundColor: this.props.color }} className=\"indicator\">\n                <div className=\"indicatorsContent\">\n                    <h3 className=\"title\">{this.props.name}</h3>\n                    <div className=\"value\">{this.getValue()}</div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default Indicator;\n\n","import React, { PureComponent } from 'react';\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTimes } from '@fortawesome/free-solid-svg-icons';\n\nimport './FilteredElement.css';\n\n/**\n * An element of a list of filtered elements\n */\nclass FilteredElement extends PureComponent {\n\n    onElementClicked = (e) => {\n        this.props.onClick(this.props.element);\n    }\n\n    render() {\n        return (\n            <div className=\"filteredElement\">\n                {this.props.element}\n                <button onClick={this.onElementClicked}><FontAwesomeIcon icon={faTimes} /></button>\n            </div>\n        )\n    }\n}\n\nexport default FilteredElement;","import React, { PureComponent } from 'react';\n\nimport FilteredElement from '../components/FilteredElement';\n\nimport './filteredElements.css';\n\nclass FilteredElements extends PureComponent {\n\n\n    render() {\n        return (\n            <div className=\"filteredElements\">\n                {this.props.elements.length > 0 ?\n                    this.props.elements.map(e => <FilteredElement key={e} element={e} onClick={this.props.onElementDeleted} />) :\n                    <p>Cliquez sur un département pour le séléctionner</p>}\n            </div>\n        )\n    }\n}\n\nexport default FilteredElements;","export const department_data = [\n    {\n        \"department\": \"01\",\n        \"population\": \"656955\",\n        \"reanimation_capacity\": \"22\"\n    },\n    {\n        \"department\": \"02\",\n        \"population\": \"526050\",\n        \"reanimation_capacity\": \"34\"\n    },\n    {\n        \"department\": \"03\",\n        \"population\": \"331315\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"04\",\n        \"population\": \"165197\",\n        \"reanimation_capacity\": \"6\"\n    },\n    {\n        \"department\": \"05\",\n        \"population\": \"141756\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"06\",\n        \"population\": \"1079396\",\n        \"reanimation_capacity\": \"89\"\n    },\n    {\n        \"department\": \"07\",\n        \"population\": \"326875\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"08\",\n        \"population\": \"265531\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"09\",\n        \"population\": \"152398\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"10\",\n        \"population\": \"309907\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"11\",\n        \"population\": \"372705\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"12\",\n        \"population\": \"278360\",\n        \"reanimation_capacity\": \"11\"\n    },\n    {\n        \"department\": \"13\",\n        \"population\": \"2034469\",\n        \"reanimation_capacity\": \"281\"\n    },\n    {\n        \"department\": \"14\",\n        \"population\": \"691453\",\n        \"reanimation_capacity\": \"91\"\n    },\n    {\n        \"department\": \"15\",\n        \"population\": \"142811\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"16\",\n        \"population\": \"348180\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"17\",\n        \"population\": \"647080\",\n        \"reanimation_capacity\": \"30\"\n    },\n    {\n        \"department\": \"18\",\n        \"population\": \"296404\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"19\",\n        \"population\": \"240336\",\n        \"reanimation_capacity\": \"15\"\n    },\n    {\n        \"department\": \"2A\",\n        \"population\": \"162421\",\n        \"reanimation_capacity\": \"57\"\n    },\n    {\n        \"department\": \"2B\",\n        \"population\": \"182258\",\n        \"reanimation_capacity\": \"14\"\n    },\n    {\n        \"department\": \"21\",\n        \"population\": \"532886\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"22\",\n        \"population\": \"596186\",\n        \"reanimation_capacity\": \"19\"\n    },\n    {\n        \"department\": \"23\",\n        \"population\": \"116270\",\n        \"reanimation_capacity\": \"40\"\n    },\n    {\n        \"department\": \"24\",\n        \"population\": \"408393\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"25\",\n        \"population\": \"539449\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"26\",\n        \"population\": \"520560\",\n        \"reanimation_capacity\": \"20\"\n    },\n    {\n        \"department\": \"27\",\n        \"population\": \"600687\",\n        \"reanimation_capacity\": \"66\"\n    },\n    {\n        \"department\": \"28\",\n        \"population\": \"429425\",\n        \"reanimation_capacity\": \"10\"\n    },\n    {\n        \"department\": \"29\",\n        \"population\": \"906554\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"30\",\n        \"population\": \"748468\",\n        \"reanimation_capacity\": \"49\"\n    },\n    {\n        \"department\": \"31\",\n        \"population\": \"1400935\",\n        \"reanimation_capacity\": \"153\"\n    },\n    {\n        \"department\": \"32\",\n        \"population\": \"190040\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"33\",\n        \"population\": \"1633440\",\n        \"reanimation_capacity\": \"183\"\n    },\n    {\n        \"department\": \"34\",\n        \"population\": \"1176145\",\n        \"reanimation_capacity\": \"124\"\n    },\n    {\n        \"department\": \"35\",\n        \"population\": \"1082073\",\n        \"reanimation_capacity\": \"60\"\n    },\n    {\n        \"department\": \"36\",\n        \"population\": \"217139\",\n        \"reanimation_capacity\": \"10\"\n    },\n    {\n        \"department\": \"37\",\n        \"population\": \"605380\",\n        \"reanimation_capacity\": \"79\"\n    },\n    {\n        \"department\": \"38\",\n        \"population\": \"1264979\",\n        \"reanimation_capacity\": \"74\"\n    },\n    {\n        \"department\": \"39\",\n        \"population\": \"257849\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"40\",\n        \"population\": \"411979\",\n        \"reanimation_capacity\": \"14\"\n    },\n    {\n        \"department\": \"41\",\n        \"population\": \"327835\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"42\",\n        \"population\": \"764737\",\n        \"reanimation_capacity\": \"70\"\n    },\n    {\n        \"department\": \"43\",\n        \"population\": \"226901\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"44\",\n        \"population\": \"1437137\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"45\",\n        \"population\": \"682890\",\n        \"reanimation_capacity\": \"47\"\n    },\n    {\n        \"department\": \"46\",\n        \"population\": \"173166\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"47\",\n        \"population\": \"330336\",\n        \"reanimation_capacity\": \"11\"\n    },\n    {\n        \"department\": \"48\",\n        \"population\": \"76286\",\n        \"reanimation_capacity\": \"3\"\n    },\n    {\n        \"department\": \"49\",\n        \"population\": \"815881\",\n        \"reanimation_capacity\": \"61\"\n    },\n    {\n        \"department\": \"50\",\n        \"population\": \"490669\",\n        \"reanimation_capacity\": \"28\"\n    },\n    {\n        \"department\": \"51\",\n        \"population\": \"563823\",\n        \"reanimation_capacity\": \"54\"\n    },\n    {\n        \"department\": \"52\",\n        \"population\": \"169250\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"53\",\n        \"population\": \"305365\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"54\",\n        \"population\": \"730398\",\n        \"reanimation_capacity\": \"83\"\n    },\n    {\n        \"department\": \"55\",\n        \"population\": \"181641\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"56\",\n        \"population\": \"755566\",\n        \"reanimation_capacity\": \"22\"\n    },\n    {\n        \"department\": \"57\",\n        \"population\": \"1035866\",\n        \"reanimation_capacity\": \"88\"\n    },\n    {\n        \"department\": \"58\",\n        \"population\": \"199596\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"59\",\n        \"population\": \"2588988\",\n        \"reanimation_capacity\": \"225\"\n    },\n    {\n        \"department\": \"60\",\n        \"population\": \"825077\",\n        \"reanimation_capacity\": \"36\"\n    },\n    {\n        \"department\": \"61\",\n        \"population\": \"276903\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"62\",\n        \"population\": \"1452778\",\n        \"reanimation_capacity\": \"85\"\n    },\n    {\n        \"department\": \"63\",\n        \"population\": \"660240\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"64\",\n        \"population\": \"683169\",\n        \"reanimation_capacity\": \"35\"\n    },\n    {\n        \"department\": \"65\",\n        \"population\": \"226839\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"66\",\n        \"population\": \"479000\",\n        \"reanimation_capacity\": \"32\"\n    },\n    {\n        \"department\": \"67\",\n        \"population\": \"1132607\",\n        \"reanimation_capacity\": \"122\"\n    },\n    {\n        \"department\": \"68\",\n        \"population\": \"763204\",\n        \"reanimation_capacity\": \"70\"\n    },\n    {\n        \"department\": \"69\",\n        \"population\": \"1876051\",\n        \"reanimation_capacity\": \"192\"\n    },\n    {\n        \"department\": \"70\",\n        \"population\": \"233194\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"71\",\n        \"population\": \"547824\",\n        \"reanimation_capacity\": \"26\"\n    },\n    {\n        \"department\": \"72\",\n        \"population\": \"560227\",\n        \"reanimation_capacity\": \"17\"\n    },\n    {\n        \"department\": \"73\",\n        \"population\": \"432548\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"74\",\n        \"population\": \"828405\",\n        \"reanimation_capacity\": \"34\"\n    },\n    {\n        \"department\": \"75\",\n        \"population\": \"2148271\",\n        \"reanimation_capacity\": \"389\"\n    },\n    {\n        \"department\": \"76\",\n        \"population\": \"1243788\",\n        \"reanimation_capacity\": \"93\"\n    },\n    {\n        \"department\": \"77\",\n        \"population\": \"1423607\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"78\",\n        \"population\": \"1448625\",\n        \"reanimation_capacity\": \"84\"\n    },\n    {\n        \"department\": \"79\",\n        \"population\": \"372627\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"80\",\n        \"population\": \"569769\",\n        \"reanimation_capacity\": \"58\"\n    },\n    {\n        \"department\": \"81\",\n        \"population\": \"387898\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"82\",\n        \"population\": \"262618\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"83\",\n        \"population\": \"1073836\",\n        \"reanimation_capacity\": \"60\"\n    },\n    {\n        \"department\": \"84\",\n        \"population\": \"560997\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"85\",\n        \"population\": \"683187\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"86\",\n        \"population\": \"437398\",\n        \"reanimation_capacity\": \"53\"\n    },\n    {\n        \"department\": \"87\",\n        \"population\": \"370774\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"88\",\n        \"population\": \"359520\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"89\",\n        \"population\": \"332096\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"90\",\n        \"population\": \"140145\",\n        \"reanimation_capacity\": \"25\"\n    },\n    {\n        \"department\": \"91\",\n        \"population\": \"1319401\",\n        \"reanimation_capacity\": \"97\"\n    },\n    {\n        \"department\": \"92\",\n        \"population\": \"1613762\",\n        \"reanimation_capacity\": \"184\"\n    },\n    {\n        \"department\": \"93\",\n        \"population\": \"1670149\",\n        \"reanimation_capacity\": \"100\"\n    },\n    {\n        \"department\": \"94\",\n        \"population\": \"1406041\",\n        \"reanimation_capacity\": \"156\"\n    },\n    {\n        \"department\": \"95\",\n        \"population\": \"1248354\",\n        \"reanimation_capacity\": \"60\"\n    }\n];","import React, { Component, Fragment } from 'react';\n\nimport LineChart from '../components/LineChart';\nimport Map from '../components/Map';\nimport RangeInput from '../components/RangeInput';\nimport Indicator from '../components/Indicator';\n\nimport FilteredElements from '../containers/FilteredElements';\n\nimport Popup from \"reactjs-popup\";\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { faEnvelope } from '@fortawesome/free-solid-svg-icons'\nimport { faLinkedin, faGithub, faTwitter } from '@fortawesome/free-brands-svg-icons'\n\nimport './Dashboard.css';\nimport { department_data } from '../data/department_data';\n\nimport moment from 'moment/moment.js';\n\n/**\n * Dashboard component is the container of all the different charts\n */\nclass Dashboard extends Component {\n    constructor() {\n        super();\n\n        this.colors = {\n            \"hospitalizations\": \"#3e95cd\",\n            \"deaths\": \"#8e5ea2\",\n            \"returnHome\": \"#3cba9f\",\n            \"reanimations\": \"#c45850\"\n        }\n\n        /* dataset is the globa dataset used in different charts and map\n        departments contains the current filtered departments  */\n        this.state = {\n            dataset: [],\n            departments: []\n        }\n    }\n\n    /** When the component did mount, get the csv file containing the data and construct the dataset */\n    componentDidMount() {\n\n        fetch('https://www.data.gouv.fr/fr/datasets/r/63352e38-d353-4b54-bfd1-f1b3ee1cabd7')\n            .then(response => response.text())\n            .then(text => {\n                let dataset = this.constructDataset(text);\n\n                let dates = [];\n                dataset.forEach(elem => {\n                    if (!dates.includes(elem.date)) {\n                        dates.push(elem.date);\n                    }\n                });\n\n                let datesSize = dates.length;\n\n                let maxDate = dates.sort((a, b) => new Date(b) - new Date(a))[0];\n                this.setState({\n                    dataset: dataset,\n                    currentDate: moment(maxDate),\n                    maxDate: maxDate,\n                    datesSize: datesSize\n                });\n            });\n    }\n\n    /**\n     * construct dataset from the text string containing data in CSV format\n     */\n    constructDataset = (text) => {\n        let dataset = this.csvJSON(text).filter(e => (e.sexe === \"0\")).map(elem => {\n            let depData = department_data.filter(e => e.department === elem.dep)[0];\n            return {\n                \"date\": elem.jour,\n                \"department\": elem.dep,\n                \"hospitalizations\": elem.hosp,\n                \"deaths\": elem.dc,\n                \"returnHome\": elem.rad,\n                \"reanimations\": elem.rea,\n                \"population\": depData ? depData.population : 0,\n                \"reanimation_capacity\": depData ? depData.reanimation_capacity : 0,\n            }\n        });\n\n        /* Construct the variation variables (newDeaths and newReturnHome)  */\n        dataset.forEach(elem => {\n            let previousDay = moment(elem.date).subtract(1, 'day').format('YYYY-MM-DD');\n            let previousDayObj = dataset.filter(e => {\n                return (e.department === elem.department && e.date === previousDay)\n            })[0];\n            elem.newDeaths = previousDayObj ? elem.deaths - previousDayObj.deaths : elem.deaths;\n            elem.newReturnHome = previousDayObj ? elem.returnHome - previousDayObj.returnHome : elem.returnHome;\n        })\n\n        return dataset;\n    }\n\n    /**\n     * construct a JSON object from a CSV string\n     */\n    csvJSON = (csv) => {\n        const lines = csv.replace(/\"/g, '').split('\\n')\n        const result = []\n        const headers = lines[0].replace(/\\s/g, '').replace(/\"/g, '').split(';');\n\n        for (let i = 1; i < lines.length; i++) {\n            if (!lines[i])\n                continue\n            const obj = {}\n            const currentline = lines[i].split(';')\n\n            for (let j = 0; j < headers.length; j++) {\n                obj[headers[j]] = currentline[j]\n            }\n            result.push(obj)\n        }\n        return result\n    }\n\n    /** Called when the slider's value changes */\n    onChangeHandler = (event) => {\n        let numberOfDaysToAdd = this.state.datesSize - event.target.value;\n\n        let newDate = moment(this.state.maxDate).subtract(numberOfDaysToAdd, 'days');\n\n        this.setState({\n            currentDate: newDate,\n        });\n    }\n\n    /** \n     * Called when a department is clicked\n     * Add or remove it of the departments array\n     */\n    onDepartmentClicked = (department) => {\n        let departmentsCopy = this.state.departments.slice();\n\n        var index = departmentsCopy.indexOf(department);\n        if (index === -1) {\n            departmentsCopy.push(department);\n        } else {\n            departmentsCopy.splice(index, 1);\n        }\n\n        this.setState({\n            departments: departmentsCopy,\n        })\n    }\n\n    render() {\n        return (\n            !this.state.dataset.length ?\n                <h1>Loading</h1> :\n                <Fragment>\n                    <header>\n                        <ul>\n                            <li className=\"title\">Flatten the curve</li>\n                            <li className=\"stick_right\">\n                                <Popup trigger={<button className=\"button\">Sources</button>} modal>\n                                    {close => (\n                                        <div className=\"modal\">\n                                            <h1>Hospitalisations, Réanimations, Décès et Retours au domicile</h1>\n                                            <p>\n                                                Ces chiffres sont communiqués quotidiennement à 19h par Santé Publique France. Les informations\n                                                relatives à ce jeu de données sont disponibles ici :\n                                                <a href=\"https://www.data.gouv.fr/fr/datasets/donnees-hospitalieres-relatives-a-lepidemie-de-covid-19/\">Données hospitalières relatives à l'épidémie de COVID-19</a></p>\n\n                                            <h1>Capacité en réanimation</h1>\n                                            <p>\n                                                Ces données sont extraites de la Statistique annuelle des établissements de santé (SAE), bases statistiques.\n                                                Elles sont disponibles ici : <a href=\"https://drees.solidarites-sante.gouv.fr/etudes-et-statistiques/publications/article/nombre-de-lits-de-reanimation-de-soins-intensifs-et-de-soins-continus-en-france\">Nombre de lits de réanimation, de soins intensifs et de soins continus en France, fin 2013 et 2018</a>\n                                            </p>\n                                            <p>\n                                                Ces chiffres datent de fin 2018 donc bien avant la crise du COVID-19. La capacité en lits de réanimation a été augmentée pour gérer l'augmentation importante du besoin.\n                                                Cependant, afficher ce chiffre sur le graphique montre bien la pression qu'on subit les hopitaux durant cette crise sanitaire.\n                                            </p>\n\n                                            <p>Si vous remarquez des anomalies ou si vous avez des suggestions d'amélioration, n'hésitez pas à me contacter directement</p>\n                                            <ul>\n                                                <li><a href=\"mailto:kv.benard@gmail.com\"><FontAwesomeIcon icon={faEnvelope} /></a></li>\n                                                <li><a href=\"https://www.linkedin.com/in/k%C3%A9vin-b%C3%A9nard-b760ba66/\"><FontAwesomeIcon icon={faLinkedin} /> </a></li>\n                                                <li><a href=\"https://github.com/kvbenard\"><FontAwesomeIcon icon={faGithub} /> </a></li>\n                                                <li><a href=\"https://twitter.com/BnardKv\"><FontAwesomeIcon icon={faTwitter} /></a></li>\n                                            </ul>\n\n                                            <div className=\"buttonContainer\">\n                                                <button\n                                                    className=\"button\"\n                                                    onClick={() => {\n                                                        close();\n                                                    }}>\n                                                    Fermer\n                                                </button>\n                                            </div>\n\n                                        </div>\n                                    )}\n                                </Popup>\n                            </li>\n\n                        </ul>\n                    </header>\n\n                    <section>\n                        <div className=\"dashboard\">\n                            <div className=\"mapConatainer\">\n                                <Map\n                                    data={this.state.dataset}\n                                    date={this.state.currentDate.format('YYYY-MM-DD')}\n                                    onDepartmentClick={this.onDepartmentClicked}\n                                    colors={this.colors}\n                                    measure=\"reanimations\" />\n\n                                <RangeInput onChange={this.onChangeHandler} max={this.state.datesSize} />\n\n                                <FilteredElements elements={this.state.departments} onElementDeleted={this.onDepartmentClicked} />\n\n                                <div className='indicatorsContainer'>\n                                    <Indicator\n                                        name=\"Hospitalisations\"\n                                        color={this.colors[\"hospitalizations\"]}\n                                        data={this.state.dataset}\n                                        measure=\"hospitalizations\"\n                                        date={this.state.currentDate.format('YYYY-MM-DD')}\n                                        departments={this.state.departments}\n                                        onClick={this.onIndicatorClicked} />\n\n                                    <Indicator\n                                        name=\"Réanimations\"\n                                        color={this.colors[\"reanimations\"]}\n                                        data={this.state.dataset}\n                                        measure=\"reanimations\"\n                                        date={this.state.currentDate.format('YYYY-MM-DD')}\n                                        departments={this.state.departments} />\n\n                                    <Indicator\n                                        name=\"Retours à domicile\"\n                                        color={this.colors[\"returnHome\"]}\n                                        data={this.state.dataset}\n                                        measure=\"returnHome\"\n                                        date={this.state.currentDate.format('YYYY-MM-DD')}\n                                        departments={this.state.departments} />\n\n                                    <Indicator\n                                        name=\"Décès\"\n                                        color={this.colors[\"deaths\"]}\n                                        data={this.state.dataset}\n                                        measure=\"deaths\"\n                                        date={this.state.currentDate.format('YYYY-MM-DD')}\n                                        departments={this.state.departments} />\n                                </div>\n                            </div>\n\n                            <div className=\"chartsContainer\">\n                                <LineChart\n                                    data={this.state.dataset}\n                                    name=\"Hospitalisations\"\n                                    measure=\"hospitalizations\"\n                                    date={this.state.currentDate.format('YYYY-MM-DD')}\n                                    departments={this.state.departments}\n                                    color={this.colors[\"hospitalizations\"]} />\n\n                                <LineChart\n                                    data={this.state.dataset}\n                                    name=\"Reanimations\"\n                                    measure=\"reanimations\"\n                                    annotation=\"reanimation_capacity\"\n                                    date={this.state.currentDate.format('YYYY-MM-DD')}\n                                    departments={this.state.departments}\n                                    color={this.colors[\"reanimations\"]} />\n\n                                <LineChart\n                                    data={this.state.dataset}\n                                    measure=\"returnHome\"\n                                    name=\"Retours à domicile\"\n                                    date={this.state.currentDate.format('YYYY-MM-DD')}\n                                    departments={this.state.departments}\n                                    color={this.colors[\"returnHome\"]} />\n\n                                <LineChart\n                                    data={this.state.dataset}\n                                    measure=\"deaths\"\n                                    name=\"Décès\"\n                                    date={this.state.currentDate.format('YYYY-MM-DD')}\n                                    departments={this.state.departments}\n                                    color={this.colors[\"deaths\"]} />\n                            </div>\n                        </div >\n                    </section>\n\n\n                    <footer>\n                        <ul>\n                            <li className=\"credit\">© Kévin Bénard</li>\n                            <li><a href=\"mailto:kv.benard@gmail.com\"><FontAwesomeIcon icon={faEnvelope} /></a></li>\n                            <li><a href=\"https://www.linkedin.com/in/k%C3%A9vin-b%C3%A9nard-b760ba66/\"><FontAwesomeIcon icon={faLinkedin} /> </a></li>\n                            <li><a href=\"https://github.com/kvbenard\"><FontAwesomeIcon icon={faGithub} /> </a></li>\n                            <li><a href=\"https://twitter.com/BnardKv\"><FontAwesomeIcon icon={faTwitter} /></a></li>\n                        </ul>\n                    </footer>\n                </Fragment>\n        )\n    }\n}\n\nexport default Dashboard;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Dashboard from './containers/Dashboard';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Dashboard />, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
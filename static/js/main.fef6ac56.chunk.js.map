{"version":3,"sources":["../node_modules/moment/src/lib/locale sync","../node_modules/moment sync","components/LineChart.js","data/department_data.js","components/Map.js","components/RangeInput.js","components/Indicator.js","containers/IndicatorsContainer.js","containers/MapContainer.js","containers/Dashboard.js","serviceWorker.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","LineChart","props","updateData","data","myChart","labels","map","label","datasets","value","fill","name","borderColor","color","annotation","length","push","update","switchData","isAlternative","alternativeData","chartRef","React","createRef","this","Chart","current","type","options","responsive","annotations","drawTime","mode","scaleID","borderWidth","button","onClick","ref","Component","department_data","Map","chart","am4core","am4maps","geodata","projection","Miller","enabled","polygonSeries","series","useGeodata","polygonTemplate","mapPolygons","template","tooltipText","hs","states","create","properties","values","department","reanimations","reanimation_capacity","heatRules","property","target","min","max","maxValue","events","on","ev","isActive","dataItem","dataContext","onDepartmentClick","forEach","i","newObj","filter","d","invalidateRawData","style","height","width","RangeInput","onChange","Indicator","backgroundColor","indicator","className","altValue","IndicatorsContainer","computeIndicators","departments","includes","reduce","acc","v","parseInt","hospitalizations","returnHome","deaths","indicators","MapContainer","filterData","date","line","isSame","onChangeHandler","event","numberOfDaysToAdd","datesSize","newDate","moment","maxDate","subtract","setState","currentData","currentDate","dates","elem","sort","a","b","Date","state","format","Dashboard","constructDataset","text","dataset","csv","lines","replace","split","result","headers","obj","currentline","j","csvJSON","sexe","dep","depData","jour","hosp","dc","rad","rea","population","previousDay","previousDayObj","newDeaths","newReturnHome","groupDatasetByDate","groupedDataset","Object","departmentClicked","departmentsCopy","slice","index","indexOf","splice","datasetGroupedByDate","fetch","then","response","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","console","message"],"mappings":"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c,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,OAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,UACd,qBAAwB,MAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,KAE5B,CACI,WAAc,KACd,WAAc,SACd,qBAAwB,MAE5B,CA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","file":"static/js/main.fef6ac56.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 164;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 177;","import React, { Component } from 'react';\nimport Chart from 'chart.js';\nimport 'chartjs-plugin-annotation';\n\nclass LineChart extends Component {\n    constructor(props) {\n        super(props);\n\n        this.chartRef = React.createRef();\n\n        this.isAlternative = false;\n    }\n\n    updateData = (data) => {\n        this.myChart.data.labels = data.map(e => e.label);\n        this.myChart.data.datasets[0].data = data.map(e => e.value);\n        this.myChart.data.datasets[0].fill = false;\n        this.myChart.data.datasets[0].label = this.props.name;\n        this.myChart.data.datasets[0].borderColor = this.props.color;\n\n        if (this.props.annotation) {\n            if (this.myChart.data.datasets.length > 1) {\n                this.myChart.data.datasets[1].data = this.props.annotation.map(e => e.value);\n                this.myChart.data.datasets[1].fill = false;\n                this.myChart.data.datasets[1].label = \"Capacité\";\n                this.myChart.data.datasets[1].borderColor = \"#aaaaaa\";\n            } else {\n                this.myChart.data.datasets.push({\n                    fill: false,\n                    data: this.props.annotation.map(e => e.value),\n                    label: \"Capacité\",\n                    borderColor: \"#aaaaaa\",\n                });\n            }\n\n        }\n\n        //this.myChart.options.annotation.annotations[0].value = this.props.date;\n\n        this.myChart.update();\n    }\n\n    componentDidMount() {\n        this.myChart = new Chart(this.chartRef.current, {\n            type: 'line',\n            data: {\n                labels: [],\n                datasets: [{\n                }]\n            },\n            options: {\n                responsive: true,\n                annotation: {\n                    annotations: [\n                        {\n                            drawTime: \"afterDatasetsDraw\",\n                            type: \"line\",\n                            mode: \"vertical\",\n                            scaleID: \"x-axis-0\",\n                            value: \"2020-04-20\",\n                            borderColor: \"black\",\n                            borderWidth: 1\n                        }\n                    ]\n                }\n            }\n        });\n        this.updateData(this.props.data);\n    }\n\n    componentDidUpdate() {\n        this.updateData(this.props.data);\n    }\n\n    switchData = () => {\n        this.isAlternative ? this.updateData(this.props.data) : this.updateData(this.props.alternativeData);\n        this.isAlternative = !this.isAlternative;\n    }\n\n    render() {\n        let button;\n        if (this.props.alternativeData) {\n            button = <button onClick={this.switchData}>Switch</button>\n        }\n\n        return (\n            <div>\n                <canvas ref={this.chartRef}></canvas>\n                {button}\n            </div>\n\n        )\n    }\n}\n\nexport default LineChart;","export const department_data = [\n    {\n        \"department\": \"01\",\n        \"population\": \"656955\",\n        \"reanimation_capacity\": \"22\"\n    },\n    {\n        \"department\": \"02\",\n        \"population\": \"526050\",\n        \"reanimation_capacity\": \"34\"\n    },\n    {\n        \"department\": \"03\",\n        \"population\": \"331315\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"04\",\n        \"population\": \"165197\",\n        \"reanimation_capacity\": \"6\"\n    },\n    {\n        \"department\": \"05\",\n        \"population\": \"141756\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"06\",\n        \"population\": \"1079396\",\n        \"reanimation_capacity\": \"89\"\n    },\n    {\n        \"department\": \"07\",\n        \"population\": \"326875\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"08\",\n        \"population\": \"265531\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"09\",\n        \"population\": \"152398\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"10\",\n        \"population\": \"309907\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"11\",\n        \"population\": \"372705\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"12\",\n        \"population\": \"278360\",\n        \"reanimation_capacity\": \"11\"\n    },\n    {\n        \"department\": \"13\",\n        \"population\": \"2034469\",\n        \"reanimation_capacity\": \"281\"\n    },\n    {\n        \"department\": \"14\",\n        \"population\": \"691453\",\n        \"reanimation_capacity\": \"91\"\n    },\n    {\n        \"department\": \"15\",\n        \"population\": \"142811\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"16\",\n        \"population\": \"348180\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"17\",\n        \"population\": \"647080\",\n        \"reanimation_capacity\": \"30\"\n    },\n    {\n        \"department\": \"18\",\n        \"population\": \"296404\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"19\",\n        \"population\": \"240336\",\n        \"reanimation_capacity\": \"15\"\n    },\n    {\n        \"department\": \"2A\",\n        \"population\": \"162421\",\n        \"reanimation_capacity\": \"57\"\n    },\n    {\n        \"department\": \"2B\",\n        \"population\": \"182258\",\n        \"reanimation_capacity\": \"14\"\n    },\n    {\n        \"department\": \"21\",\n        \"population\": \"532886\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"22\",\n        \"population\": \"596186\",\n        \"reanimation_capacity\": \"19\"\n    },\n    {\n        \"department\": \"23\",\n        \"population\": \"116270\",\n        \"reanimation_capacity\": \"40\"\n    },\n    {\n        \"department\": \"24\",\n        \"population\": \"408393\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"25\",\n        \"population\": \"539449\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"26\",\n        \"population\": \"520560\",\n        \"reanimation_capacity\": \"20\"\n    },\n    {\n        \"department\": \"27\",\n        \"population\": \"600687\",\n        \"reanimation_capacity\": \"66\"\n    },\n    {\n        \"department\": \"28\",\n        \"population\": \"429425\",\n        \"reanimation_capacity\": \"10\"\n    },\n    {\n        \"department\": \"29\",\n        \"population\": \"906554\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"30\",\n        \"population\": \"748468\",\n        \"reanimation_capacity\": \"49\"\n    },\n    {\n        \"department\": \"31\",\n        \"population\": \"1400935\",\n        \"reanimation_capacity\": \"153\"\n    },\n    {\n        \"department\": \"32\",\n        \"population\": \"190040\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"33\",\n        \"population\": \"1633440\",\n        \"reanimation_capacity\": \"183\"\n    },\n    {\n        \"department\": \"34\",\n        \"population\": \"1176145\",\n        \"reanimation_capacity\": \"124\"\n    },\n    {\n        \"department\": \"35\",\n        \"population\": \"1082073\",\n        \"reanimation_capacity\": \"60\"\n    },\n    {\n        \"department\": \"36\",\n        \"population\": \"217139\",\n        \"reanimation_capacity\": \"10\"\n    },\n    {\n        \"department\": \"37\",\n        \"population\": \"605380\",\n        \"reanimation_capacity\": \"79\"\n    },\n    {\n        \"department\": \"38\",\n        \"population\": \"1264979\",\n        \"reanimation_capacity\": \"74\"\n    },\n    {\n        \"department\": \"39\",\n        \"population\": \"257849\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"40\",\n        \"population\": \"411979\",\n        \"reanimation_capacity\": \"14\"\n    },\n    {\n        \"department\": \"41\",\n        \"population\": \"327835\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"42\",\n        \"population\": \"764737\",\n        \"reanimation_capacity\": \"70\"\n    },\n    {\n        \"department\": \"43\",\n        \"population\": \"226901\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"44\",\n        \"population\": \"1437137\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"45\",\n        \"population\": \"682890\",\n        \"reanimation_capacity\": \"47\"\n    },\n    {\n        \"department\": \"46\",\n        \"population\": \"173166\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"47\",\n        \"population\": \"330336\",\n        \"reanimation_capacity\": \"11\"\n    },\n    {\n        \"department\": \"48\",\n        \"population\": \"76286\",\n        \"reanimation_capacity\": \"3\"\n    },\n    {\n        \"department\": \"49\",\n        \"population\": \"815881\",\n        \"reanimation_capacity\": \"61\"\n    },\n    {\n        \"department\": \"50\",\n        \"population\": \"490669\",\n        \"reanimation_capacity\": \"28\"\n    },\n    {\n        \"department\": \"51\",\n        \"population\": \"563823\",\n        \"reanimation_capacity\": \"54\"\n    },\n    {\n        \"department\": \"52\",\n        \"population\": \"169250\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"53\",\n        \"population\": \"305365\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"54\",\n        \"population\": \"730398\",\n        \"reanimation_capacity\": \"83\"\n    },\n    {\n        \"department\": \"55\",\n        \"population\": \"181641\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"56\",\n        \"population\": \"755566\",\n        \"reanimation_capacity\": \"22\"\n    },\n    {\n        \"department\": \"57\",\n        \"population\": \"1035866\",\n        \"reanimation_capacity\": \"88\"\n    },\n    {\n        \"department\": \"58\",\n        \"population\": \"199596\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"59\",\n        \"population\": \"2588988\",\n        \"reanimation_capacity\": \"225\"\n    },\n    {\n        \"department\": \"60\",\n        \"population\": \"825077\",\n        \"reanimation_capacity\": \"36\"\n    },\n    {\n        \"department\": \"61\",\n        \"population\": \"276903\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"62\",\n        \"population\": \"1452778\",\n        \"reanimation_capacity\": \"85\"\n    },\n    {\n        \"department\": \"63\",\n        \"population\": \"660240\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"64\",\n        \"population\": \"683169\",\n        \"reanimation_capacity\": \"35\"\n    },\n    {\n        \"department\": \"65\",\n        \"population\": \"226839\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"66\",\n        \"population\": \"479000\",\n        \"reanimation_capacity\": \"32\"\n    },\n    {\n        \"department\": \"67\",\n        \"population\": \"1132607\",\n        \"reanimation_capacity\": \"122\"\n    },\n    {\n        \"department\": \"68\",\n        \"population\": \"763204\",\n        \"reanimation_capacity\": \"70\"\n    },\n    {\n        \"department\": \"69\",\n        \"population\": \"1876051\",\n        \"reanimation_capacity\": \"192\"\n    },\n    {\n        \"department\": \"70\",\n        \"population\": \"233194\",\n        \"reanimation_capacity\": \"12\"\n    },\n    {\n        \"department\": \"71\",\n        \"population\": \"547824\",\n        \"reanimation_capacity\": \"26\"\n    },\n    {\n        \"department\": \"72\",\n        \"population\": \"560227\",\n        \"reanimation_capacity\": \"17\"\n    },\n    {\n        \"department\": \"73\",\n        \"population\": \"432548\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"74\",\n        \"population\": \"828405\",\n        \"reanimation_capacity\": \"34\"\n    },\n    {\n        \"department\": \"75\",\n        \"population\": \"2148271\",\n        \"reanimation_capacity\": \"389\"\n    },\n    {\n        \"department\": \"76\",\n        \"population\": \"1243788\",\n        \"reanimation_capacity\": \"93\"\n    },\n    {\n        \"department\": \"77\",\n        \"population\": \"1423607\",\n        \"reanimation_capacity\": \"77\"\n    },\n    {\n        \"department\": \"78\",\n        \"population\": \"1448625\",\n        \"reanimation_capacity\": \"84\"\n    },\n    {\n        \"department\": \"79\",\n        \"population\": \"372627\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"80\",\n        \"population\": \"569769\",\n        \"reanimation_capacity\": \"58\"\n    },\n    {\n        \"department\": \"81\",\n        \"population\": \"387898\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"82\",\n        \"population\": \"262618\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"83\",\n        \"population\": \"1073836\",\n        \"reanimation_capacity\": \"60\"\n    },\n    {\n        \"department\": \"84\",\n        \"population\": \"560997\",\n        \"reanimation_capacity\": \"16\"\n    },\n    {\n        \"department\": \"85\",\n        \"population\": \"683187\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"86\",\n        \"population\": \"437398\",\n        \"reanimation_capacity\": \"53\"\n    },\n    {\n        \"department\": \"87\",\n        \"population\": \"370774\",\n        \"reanimation_capacity\": \"24\"\n    },\n    {\n        \"department\": \"88\",\n        \"population\": \"359520\",\n        \"reanimation_capacity\": \"8\"\n    },\n    {\n        \"department\": \"89\",\n        \"population\": \"332096\",\n        \"reanimation_capacity\": \"18\"\n    },\n    {\n        \"department\": \"90\",\n        \"population\": \"140145\",\n        \"reanimation_capacity\": \"25\"\n    },\n    {\n        \"department\": \"91\",\n        \"population\": \"1319401\",\n        \"reanimation_capacity\": \"97\"\n    },\n    {\n        \"department\": \"92\",\n        \"population\": \"1613762\",\n        \"reanimation_capacity\": \"184\"\n    },\n    {\n        \"department\": \"93\",\n        \"population\": \"1670149\",\n        \"reanimation_capacity\": \"100\"\n    },\n    {\n        \"department\": \"94\",\n        \"population\": \"1406041\",\n        \"reanimation_capacity\": \"156\"\n    },\n    {\n        \"department\": \"95\",\n        \"population\": \"1248354\",\n        \"reanimation_capacity\": \"60\"\n    }\n];","import React, { Component } from 'react';\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4maps from \"@amcharts/amcharts4/maps\";\nimport map from \"@amcharts/amcharts4-geodata/franceDepartmentsLow\";\n\n\nclass Map extends Component {\n\n    componentDidMount() {\n        this.chart = am4core.create(\"french-map\", am4maps.MapChart);\n        this.chart.geodata = map;\n        this.chart.projection = new am4maps.projections.Miller();\n        this.chart.responsive.enabled = true;\n\n        // Create map polygon series\n        var polygonSeries = this.chart.series.push(new am4maps.MapPolygonSeries());\n\n        // Make map load polygon (like country names) data from GeoJSON\n        polygonSeries.useGeodata = true;\n\n        var polygonTemplate = polygonSeries.mapPolygons.template;\n        polygonTemplate.tooltipText = \"{name}\";\n\n        // Create hover state and set alternative fill color\n        let hs = polygonTemplate.states.create(\"hover\");\n        hs.properties.fill = am4core.color(\"#011627\");\n\n        // Create hover state and set alternative fill color\n        hs = polygonTemplate.states.create(\"active\");\n        hs.properties.fill = am4core.color(\"#011627\");\n\n        this.chart.series.values[0].data = this.props.data.map(e => {\n            return {\n                id: \"FR-\" + e.department,\n                value: e.reanimations / e.reanimation_capacity,\n                department: e.department\n            }\n        });\n\n        polygonSeries.heatRules.push({\n            property: \"fill\",\n            target: polygonSeries.mapPolygons.template,\n            min: am4core.color(\"#eeeeee\"),\n            max: am4core.color(\"#ff0000\"),\n            maxValue: 2\n        });\n\n        polygonTemplate.events.on(\"hit\", (ev) => {\n            ev.target.isActive = !ev.target.isActive;\n            let department = ev.target.dataItem.dataContext.department;\n\n            this.props.onDepartmentClick(department);\n        });\n    }\n\n    componentDidUpdate() {\n\n        let data = this.props.data.map(e => {\n            return {\n                id: \"FR-\" + e.department,\n                value: e.reanimations / e.reanimation_capacity,\n                department: e.department\n            }\n        });\n\n        if (this.chart && this.chart.series.values[0].data.length > 0) {\n            this.chart.series.values[0].data.forEach((e, i) => {\n                let newObj = data.filter(d => (d.id === e.id))[0];\n                this.chart.series.values[0].data[i].value = newObj ? newObj.value : 0;\n            });\n        }\n\n        this.chart.invalidateRawData();\n    }\n\n    render() {\n        return (\n            <div style={{ height: \"500px\", width: \"500px\" }} id=\"french-map\"></div>\n        )\n    }\n}\n\nexport default Map;","import React, { Component } from 'react';\nimport './RangeInput.css';\n\nclass RangeInput extends Component {\n    render() {\n        return (\n            <input type=\"range\" id=\"vol\" name=\"vol\" min=\"1\" max={this.props.max} onChange={this.props.onChange} />\n        )\n    }\n}\n\nexport default RangeInput;","import React, { Component } from 'react';\nimport './Indicator.css';\n\nclass Indicator extends Component {\n    render() {\n        return (\n            <div style={{ backgroundColor: this.props.indicator.color }} className=\"indicator\">\n                <h3>{this.props.indicator.name}</h3>\n                <div>{this.props.indicator.value} ({this.props.indicator.altValue})</div>\n            </div>\n        )\n    }\n}\n\nexport default Indicator;\n\n","import React, { Component } from 'react';\nimport Indicator from '../components/Indicator';\nimport './IndicatorsContainer.css';\n\nclass IndicatorsContainer extends Component {\n    computeIndicators = () => {\n        let data = this.props.departments.length === 0 ? this.props.data : this.props.data.filter(e => this.props.departments.includes(e.department));\n        return [\n            {\n                name: 'Hospitalisations',\n                color: '#3e95cd',\n                value: data.reduce((acc, v) => parseInt(acc) + parseInt(v.hospitalizations), 0)\n            },\n            {\n                name: 'Réanimations',\n                color: '#c45850',\n                value: data.reduce((acc, v) => parseInt(acc) + parseInt(v.reanimations), 0)\n            },\n            {\n                name: 'Retours à domicile',\n                color: '#8e5ea2',\n                value: data.reduce((acc, v) => parseInt(acc) + parseInt(v.returnHome), 0)\n            },\n            {\n                name: 'Décès',\n                color: '#3cba9f',\n                value: data.reduce((acc, v) => parseInt(acc) + parseInt(v.deaths), 0)\n            }\n        ]\n    }\n\n    render() {\n        let indicators = this.computeIndicators();\n        return (\n            <div className=\"indicators_container\">\n                <Indicator indicator={indicators[0]} />\n                <Indicator indicator={indicators[1]} />\n                <Indicator indicator={indicators[2]} />\n                <Indicator indicator={indicators[3]} />\n            </div>\n        )\n    }\n}\n\nexport default IndicatorsContainer;","import React, { Component } from 'react';\nimport Map from '../components/Map';\nimport RangeInput from '../components/RangeInput';\nimport IndicatorsContainer from './IndicatorsContainer';\n\nimport moment from 'moment/moment.js';\n\nclass MapContainer extends Component {\n    constructor(props) {\n        super(props);\n\n        let dates = [];\n        props.data.forEach(elem => {\n            if (!dates.includes(elem.date)) {\n                dates.push(elem.date);\n            }\n        });\n\n        this.datesSize = dates.length;\n\n        this.maxDate = dates.sort((a, b) => new Date(b) - new Date(a))[0];\n\n        this.state = {\n            currentDate: moment(this.maxDate),\n            currentData: this.filterData(moment(this.maxDate))\n        }\n    }\n\n    filterData = (date) => {\n        return this.props.data.filter(line => {\n            return date.isSame(line.date) && line.department < 900;\n        });\n    }\n\n    onChangeHandler = (event) => {\n        let numberOfDaysToAdd = this.datesSize - event.target.value;\n\n        let newDate = moment(this.maxDate).subtract(numberOfDaysToAdd, 'days');\n\n        this.setState({\n            currentData: this.filterData(newDate),\n            currentDate: newDate,\n        });\n    }\n\n    render() {\n\n        return (\n            <div>\n                <Map data={this.state.currentData} onDepartmentClick={this.props.onDepartmentClick} />\n                <RangeInput onChange={this.onChangeHandler} max={this.datesSize} />\n                <div className=\"currentDate\">{this.state.currentDate.format('DD/MM/YYYY')}</div>\n                <IndicatorsContainer data={this.state.currentData} departments={this.props.departments} />\n            </div>\n        )\n    }\n}\n\nexport default MapContainer;","import React, { Component } from 'react';\nimport LineChart from '../components/LineChart';\nimport './Dashboard.css';\nimport { department_data } from '../data/department_data';\nimport MapContainer from './MapContainer';\n\nimport moment from 'moment/moment.js';\n\nclass Dashboard extends Component {\n    constructor() {\n        super();\n\n        this.state = {\n            dataset: [],\n            datasetGroupedByDate: [],\n            departments: []\n        }\n    }\n\n    constructDataset = (text) => {\n        let dataset = csvJSON(text).filter(e => (e.sexe === \"0\" && e.dep < 900)).map(elem => {\n            let depData = department_data.filter(e => e.department === elem.dep)[0];\n            return {\n                \"date\": elem.jour,\n                \"department\": elem.dep,\n                \"hospitalizations\": elem.hosp,\n                \"deaths\": elem.dc,\n                \"returnHome\": elem.rad,\n                \"reanimations\": elem.rea,\n                \"population\": depData ? depData.population : 1,\n                \"reanimation_capacity\": depData ? depData.reanimation_capacity : 1,\n            }\n        });\n\n        dataset.forEach(elem => {\n            let previousDay = moment(elem.date).subtract(1, 'day').format('YYYY-MM-DD');\n            let previousDayObj = dataset.filter(e => {\n                return (e.department === elem.department && e.date === previousDay)\n            })[0];\n            elem.newDeaths = previousDayObj ? elem.deaths - previousDayObj.deaths : elem.deaths;\n            elem.newReturnHome = previousDayObj ? elem.returnHome - previousDayObj.returnHome : elem.returnHome;\n        })\n\n        return dataset;\n    }\n\n    groupDatasetByDate = (dataset) => {\n        let groupedDataset = {};\n        dataset.forEach(elem => {\n            let date = elem.date;\n            if (Object.keys(groupedDataset).includes(date)) {\n                groupedDataset[date].reanimations = parseInt(elem.reanimations) + parseInt(groupedDataset[date].reanimations);\n                groupedDataset[date].returnHome = parseInt(elem.returnHome) + parseInt(groupedDataset[date].returnHome);\n                groupedDataset[date].deaths = parseInt(elem.deaths) + parseInt(groupedDataset[date].deaths);\n                groupedDataset[date].hospitalizations = parseInt(elem.hospitalizations) + parseInt(groupedDataset[date].hospitalizations);\n                groupedDataset[date].population = parseInt(elem.population) + parseInt(groupedDataset[date].population);\n                groupedDataset[date].reanimation_capacity = parseInt(elem.reanimation_capacity) + parseInt(groupedDataset[date].reanimation_capacity);\n                groupedDataset[date].newDeaths = parseInt(elem.newDeaths) + parseInt(groupedDataset[date].newDeaths);\n                groupedDataset[date].newReturnHome = parseInt(elem.newReturnHome) + parseInt(groupedDataset[date].newReturnHome);\n            } else {\n                groupedDataset[date] = {\n                    date: date,\n                    reanimations: elem.reanimations,\n                    returnHome: elem.returnHome,\n                    deaths: elem.deaths,\n                    hospitalizations: elem.hospitalizations,\n                    population: elem.population,\n                    reanimation_capacity: elem.reanimation_capacity,\n                    newDeaths: elem.newDeaths,\n                    newReturnHome: elem.newReturnHome,\n                }\n            }\n        });\n\n        return Object.values(groupedDataset);\n    }\n\n    componentDidMount() {\n\n        fetch('https://www.data.gouv.fr/fr/datasets/r/63352e38-d353-4b54-bfd1-f1b3ee1cabd7')\n            .then(response => response.text())\n            .then(text => {\n                let dataset = this.constructDataset(text);\n\n                let datasetGroupedByDate = this.groupDatasetByDate(dataset);\n\n                this.setState({\n                    dataset: dataset,\n                    datasetGroupedByDate: datasetGroupedByDate\n                });\n            });\n    }\n\n    departmentClicked = (department) => {\n        let departmentsCopy = this.state.departments.slice();\n\n        var index = departmentsCopy.indexOf(department);\n        if (index === -1) {\n            departmentsCopy.push(department);\n        } else {\n            departmentsCopy.splice(index, 1);\n        }\n\n        this.setState({\n            departments: departmentsCopy,\n            datasetGroupedByDate: departmentsCopy.length === 0 ? this.groupDatasetByDate(this.state.dataset) : this.groupDatasetByDate(this.state.dataset.filter(e => departmentsCopy.includes(e.department)))\n        })\n    }\n\n\n    render() {\n        return (\n            !this.state.dataset.length ?\n                <h1>Loading</h1> :\n                <div className=\"dashboard\">\n                    <MapContainer data={this.state.dataset} onDepartmentClick={this.departmentClicked} departments={this.state.departments} />\n                    <div className=\"chartsContainer\">\n                        <LineChart\n                            data={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.hospitalizations\n                                }\n                            })}\n                            name=\"Hospitalisations\"\n                            color=\"#3e95cd\"\n                        />\n\n                        <LineChart\n                            data={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.reanimations\n                                }\n                            })}\n                            name=\"Reanimations\"\n                            annotation={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.reanimation_capacity\n                                }\n                            })}\n                            color=\"#c45850\" />\n\n                        <LineChart\n                            data={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.returnHome\n                                }\n                            })}\n                            alternativeData={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.newReturnHome\n                                }\n                            })}\n                            name=\"Retours à domicile\"\n                            color=\"#8e5ea2\" />\n\n                        <LineChart\n                            data={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.deaths\n                                }\n                            })}\n                            alternativeData={this.state.datasetGroupedByDate.map(d => {\n                                return {\n                                    label: d.date,\n                                    value: d.newDeaths\n                                }\n                            })}\n                            name=\"Décès\"\n                            color=\"#3cba9f\" />\n                    </div>\n                </div>\n        )\n    }\n}\n\nfunction csvJSON(csv) {\n    const lines = csv.replace(/\"/g, '').split('\\n')\n    const result = []\n    const headers = lines[0].replace(/\\s/g, '').replace(/\"/g, '').split(';');\n\n    for (let i = 1; i < lines.length; i++) {\n        if (!lines[i])\n            continue\n        const obj = {}\n        const currentline = lines[i].split(';')\n\n        for (let j = 0; j < headers.length; j++) {\n            obj[headers[j]] = currentline[j]\n        }\n        result.push(obj)\n    }\n    return result\n}\n\nexport default Dashboard;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Dashboard from './containers/Dashboard';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(<Dashboard />, document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}